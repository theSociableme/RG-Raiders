{"ast":null,"code":"var _jsxFileName = \"/Users/mark.wagner/Dropbox/projects/TheGame/packages/web/components/Setup/SetupTimeZone.tsx\";\nvar __jsx = React.createElement;\nimport { MetaButton, MetaHeading, SelectTimeZone, useToast } from '@raidguild/ds';\nimport { FlexContainer } from 'components/Container';\nimport { useSetupFlow } from 'contexts/SetupContext';\nimport { useUpdateProfileMutation } from 'graphql/autogen/types';\nimport { useUser } from 'lib/hooks';\nimport React, { useState } from 'react';\nexport const SetupTimeZone = ({\n  timeZone,\n  setTimeZone\n}) => {\n  const {\n    onNextPress,\n    nextButtonLabel\n  } = useSetupFlow();\n  const {\n    user\n  } = useUser({\n    redirectTo: '/'\n  });\n  const toast = useToast();\n  const [updateProfileRes, updateProfile] = useUpdateProfileMutation();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const handleNextPress = async () => {\n    if (!user) return;\n    setLoading(true);\n    const {\n      error\n    } = await updateProfile({\n      playerId: user.id,\n      input: {\n        timezone: timeZone\n      }\n    });\n\n    if (error) {\n      toast({\n        title: 'Error',\n        description: 'Unable to update time zone. The octo is sad ðŸ˜¢',\n        status: 'error',\n        isClosable: true\n      });\n      setLoading(false);\n      return;\n    }\n\n    onNextPress();\n  };\n\n  return __jsx(FlexContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, __jsx(MetaHeading, {\n    mb: 10,\n    mt: -64,\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Which time zone are you in?\"), __jsx(FlexContainer, {\n    w: \"100%\",\n    align: \"stretch\",\n    maxW: \"30rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, __jsx(SelectTimeZone, {\n    value: timeZone,\n    onChange: tz => setTimeZone(tz.value),\n    labelStyle: \"abbrev\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  })), __jsx(MetaButton, {\n    onClick: handleNextPress,\n    mt: 10,\n    isLoading: updateProfileRes.fetching || loading,\n    loadingText: \"Saving\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, nextButtonLabel));\n};","map":{"version":3,"sources":["/Users/mark.wagner/Dropbox/projects/TheGame/packages/web/components/Setup/SetupTimeZone.tsx"],"names":["MetaButton","MetaHeading","SelectTimeZone","useToast","FlexContainer","useSetupFlow","useUpdateProfileMutation","useUser","React","useState","SetupTimeZone","timeZone","setTimeZone","onNextPress","nextButtonLabel","user","redirectTo","toast","updateProfileRes","updateProfile","loading","setLoading","handleNextPress","error","playerId","id","input","timezone","title","description","status","isClosable","tz","value","fetching"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,WAArB,EAAkCC,cAAlC,EAAkDC,QAAlD,QAAkE,aAAlE;AACA,SAASC,aAAT,QAA8B,sBAA9B;AACA,SAASC,YAAT,QAA6B,uBAA7B;AACA,SAASC,wBAAT,QAAyC,uBAAzC;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAOA,OAAO,MAAMC,aAA2C,GAAG,CAAC;AAC1DC,EAAAA,QAD0D;AAE1DC,EAAAA;AAF0D,CAAD,KAGrD;AACJ,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAAmCT,YAAY,EAArD;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAWR,OAAO,CAAC;AAAES,IAAAA,UAAU,EAAE;AAAd,GAAD,CAAxB;AACA,QAAMC,KAAK,GAAGd,QAAQ,EAAtB;AAEA,QAAM,CAACe,gBAAD,EAAmBC,aAAnB,IAAoCb,wBAAwB,EAAlE;AACA,QAAM;AAAA,OAACc,OAAD;AAAA,OAAUC;AAAV,MAAwBZ,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAMa,eAAe,GAAG,YAAY;AAClC,QAAI,CAACP,IAAL,EAAW;AAEXM,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAM;AAAEE,MAAAA;AAAF,QAAY,MAAMJ,aAAa,CAAC;AACpCK,MAAAA,QAAQ,EAAET,IAAI,CAACU,EADqB;AAEpCC,MAAAA,KAAK,EAAE;AACLC,QAAAA,QAAQ,EAAEhB;AADL;AAF6B,KAAD,CAArC;;AAOA,QAAIY,KAAJ,EAAW;AACTN,MAAAA,KAAK,CAAC;AACJW,QAAAA,KAAK,EAAE,OADH;AAEJC,QAAAA,WAAW,EAAE,gDAFT;AAGJC,QAAAA,MAAM,EAAE,OAHJ;AAIJC,QAAAA,UAAU,EAAE;AAJR,OAAD,CAAL;AAMAV,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACD;;AAEDR,IAAAA,WAAW;AACZ,GAvBD;;AAyBA,SACE,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAqB,IAAA,EAAE,EAAE,CAAC,EAA1B;AAA8B,IAAA,SAAS,EAAC,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,EAIE,MAAC,aAAD;AAAe,IAAA,CAAC,EAAC,MAAjB;AAAwB,IAAA,KAAK,EAAC,SAA9B;AAAwC,IAAA,IAAI,EAAC,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,cAAD;AACE,IAAA,KAAK,EAAEF,QADT;AAEE,IAAA,QAAQ,EAAGqB,EAAD,IAAQpB,WAAW,CAACoB,EAAE,CAACC,KAAJ,CAF/B;AAGE,IAAA,UAAU,EAAC,QAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,EAWE,MAAC,UAAD;AACE,IAAA,OAAO,EAAEX,eADX;AAEE,IAAA,EAAE,EAAE,EAFN;AAGE,IAAA,SAAS,EAAEJ,gBAAgB,CAACgB,QAAjB,IAA6Bd,OAH1C;AAIE,IAAA,WAAW,EAAC,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGN,eANH,CAXF,CADF;AAsBD,CA1DM","sourcesContent":["import { MetaButton, MetaHeading, SelectTimeZone, useToast } from '@raidguild/ds';\nimport { FlexContainer } from 'components/Container';\nimport { useSetupFlow } from 'contexts/SetupContext';\nimport { useUpdateProfileMutation } from 'graphql/autogen/types';\nimport { useUser } from 'lib/hooks';\nimport React, { useState } from 'react';\n\nexport type SetupTimezoneProps = {\n  timeZone: string;\n  setTimeZone: React.Dispatch<React.SetStateAction<string>>;\n};\n\nexport const SetupTimeZone: React.FC<SetupTimezoneProps> = ({\n  timeZone,\n  setTimeZone,\n}) => {\n  const { onNextPress, nextButtonLabel } = useSetupFlow();\n  const { user } = useUser({ redirectTo: '/' });\n  const toast = useToast();\n\n  const [updateProfileRes, updateProfile] = useUpdateProfileMutation();\n  const [loading, setLoading] = useState(false);\n\n  const handleNextPress = async () => {\n    if (!user) return;\n\n    setLoading(true);\n    const { error } = await updateProfile({\n      playerId: user.id,\n      input: {\n        timezone: timeZone,\n      },\n    });\n\n    if (error) {\n      toast({\n        title: 'Error',\n        description: 'Unable to update time zone. The octo is sad ðŸ˜¢',\n        status: 'error',\n        isClosable: true,\n      });\n      setLoading(false);\n      return;\n    }\n\n    onNextPress();\n  };\n\n  return (\n    <FlexContainer>\n      <MetaHeading mb={10} mt={-64} textAlign=\"center\">\n        Which time zone are you in?\n      </MetaHeading>\n      <FlexContainer w=\"100%\" align=\"stretch\" maxW=\"30rem\">\n        <SelectTimeZone\n          value={timeZone}\n          onChange={(tz) => setTimeZone(tz.value)}\n          labelStyle=\"abbrev\"\n        />\n      </FlexContainer>\n      <MetaButton\n        onClick={handleNextPress}\n        mt={10}\n        isLoading={updateProfileRes.fetching || loading}\n        loadingText=\"Saving\"\n      >\n        {nextButtonLabel}\n      </MetaButton>\n    </FlexContainer>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/mark.wagner/Dropbox/projects/TheGame/packages/web/components/LoginButton.tsx\";\nvar __jsx = React.createElement;\nimport { Avatar, Box, Button, CloseIcon, HStack, MetaButton, SettingsIcon, Spinner, Text } from '@raidguild/ds';\nimport { MetaLink } from 'components/Link';\nimport React, { useCallback } from 'react';\nimport { useUser, useWeb3 } from '../lib/hooks';\nimport { getPlayerImage, getPlayerName } from '../utils/playerHelpers';\nexport const LoginButton = () => {\n  const {\n    address,\n    connectWeb3,\n    disconnect,\n    isConnected,\n    isConnecting\n  } = useWeb3();\n  const {\n    user,\n    fetching\n  } = useUser();\n  const handleLoginClick = useCallback(async () => {\n    await connectWeb3();\n  }, [connectWeb3]);\n\n  if (fetching || isConnecting) {\n    return __jsx(Spinner, {\n      color: \"purple.500\",\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (isConnected) {\n    if (!(user !== null && user !== void 0 && user.player)) return null;\n    const hasEditedProfile = user.username && user.username !== address;\n    return __jsx(HStack, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, __jsx(Avatar, {\n      src: getPlayerImage(user.player),\n      name: getPlayerName(user.player),\n      as: MetaLink,\n      href: `/player/${user.username}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }), __jsx(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, __jsx(MetaLink, {\n      href: `/player/${user.username}`,\n      fontFamily: \"body\",\n      color: \"whiteAlpha.700\",\n      pl: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, user.player ? getPlayerName(user.player) : 'Unknown'), __jsx(Box, {\n      d: \"flex\",\n      w: \"100%\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      sx: {\n        '& > *': {\n          d: 'inline-flex',\n          px: 1\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, __jsx(MetaLink, {\n      href: \"/profile/setup/username\",\n      title: hasEditedProfile ? 'Edit profile' : 'Setup profile',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, __jsx(Text, {\n      display: {\n        base: 'none',\n        xl: 'inline'\n      },\n      color: \"cyan.400\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, \"Edit profile\"), __jsx(SettingsIcon, {\n      w: {\n        base: '20px',\n        xl: 7\n      },\n      h: {\n        base: '20px',\n        xl: 7\n      },\n      color: \"cyan.400\",\n      display: {\n        base: 'initial',\n        xl: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    })), __jsx(Text, {\n      color: \"cyan.400\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \"|\"), __jsx(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, __jsx(Button, {\n      onClick: disconnect,\n      variant: \"link\",\n      fontWeight: \"normal\",\n      title: \"Disconnect\",\n      justifyContent: \"flex-start\",\n      ml: 0,\n      pl: 0,\n      sx: {\n        '&:hover': {\n          color: 'cyan.400'\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, __jsx(Text, {\n      display: {\n        base: 'none',\n        xl: 'inline'\n      },\n      color: \"cyan.400\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, \"Disconnect\"), __jsx(CloseIcon, {\n      w: {\n        base: '18px',\n        xl: 6\n      },\n      h: {\n        base: '18px',\n        xl: 6\n      },\n      color: \"cyan.400\",\n      display: {\n        base: 'initial',\n        xl: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n  return __jsx(MetaButton, {\n    size: \"md\",\n    px: 8,\n    onClick: handleLoginClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, \"Connect\");\n};","map":{"version":3,"sources":["/Users/mark.wagner/Dropbox/projects/TheGame/packages/web/components/LoginButton.tsx"],"names":["Avatar","Box","Button","CloseIcon","HStack","MetaButton","SettingsIcon","Spinner","Text","MetaLink","React","useCallback","useUser","useWeb3","getPlayerImage","getPlayerName","LoginButton","address","connectWeb3","disconnect","isConnected","isConnecting","user","fetching","handleLoginClick","player","hasEditedProfile","username","d","px","base","xl","color"],"mappings":";;AAAA,SACEA,MADF,EAEEC,GAFF,EAGEC,MAHF,EAIEC,SAJF,EAKEC,MALF,EAMEC,UANF,EAOEC,YAPF,EAQEC,OARF,EASEC,IATF,QAUO,aAVP;AAWA,SAASC,QAAT,QAAyB,iBAAzB;AACA,OAAOC,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AAEA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,cAAjC;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,wBAA9C;AAEA,OAAO,MAAMC,WAAqB,GAAG,MAAM;AACzC,QAAM;AACJC,IAAAA,OADI;AAEJC,IAAAA,WAFI;AAGJC,IAAAA,UAHI;AAIJC,IAAAA,WAJI;AAKJC,IAAAA;AALI,MAMFR,OAAO,EANX;AAQA,QAAM;AAAES,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAqBX,OAAO,EAAlC;AAEA,QAAMY,gBAAgB,GAAGb,WAAW,CAAC,YAAY;AAC/C,UAAMO,WAAW,EAAjB;AACD,GAFmC,EAEjC,CAACA,WAAD,CAFiC,CAApC;;AAIA,MAAIK,QAAQ,IAAIF,YAAhB,EAA8B;AAC5B,WAAO,MAAC,OAAD;AAAS,MAAA,KAAK,EAAC,YAAf;AAA4B,MAAA,IAAI,EAAC,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,MAAID,WAAJ,EAAiB;AACf,QAAI,EAACE,IAAD,aAACA,IAAD,eAACA,IAAI,CAAEG,MAAP,CAAJ,EAAmB,OAAO,IAAP;AAEnB,UAAMC,gBAAgB,GAAGJ,IAAI,CAACK,QAAL,IAAiBL,IAAI,CAACK,QAAL,KAAkBV,OAA5D;AAEA,WACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,MAAD;AACE,MAAA,GAAG,EAAEH,cAAc,CAACQ,IAAI,CAACG,MAAN,CADrB;AAEE,MAAA,IAAI,EAAEV,aAAa,CAACO,IAAI,CAACG,MAAN,CAFrB;AAGE,MAAA,EAAE,EAAEhB,QAHN;AAIE,MAAA,IAAI,EAAG,WAAUa,IAAI,CAACK,QAAS,EAJjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,QAAD;AACE,MAAA,IAAI,EAAG,WAAUL,IAAI,CAACK,QAAS,EADjC;AAEE,MAAA,UAAU,EAAC,MAFb;AAGE,MAAA,KAAK,EAAC,gBAHR;AAIE,MAAA,EAAE,EAAE,CAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMGL,IAAI,CAACG,MAAL,GAAcV,aAAa,CAACO,IAAI,CAACG,MAAN,CAA3B,GAA2C,SAN9C,CADF,EASE,MAAC,GAAD;AACE,MAAA,CAAC,EAAC,MADJ;AAEE,MAAA,CAAC,EAAC,MAFJ;AAGE,MAAA,UAAU,EAAC,QAHb;AAIE,MAAA,cAAc,EAAC,eAJjB;AAKE,MAAA,EAAE,EAAE;AAAE,iBAAS;AAAEG,UAAAA,CAAC,EAAE,aAAL;AAAoBC,UAAAA,EAAE,EAAE;AAAxB;AAAX,OALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE,MAAC,QAAD;AACE,MAAA,IAAI,EAAC,yBADP;AAEE,MAAA,KAAK,EAAEH,gBAAgB,GAAG,cAAH,GAAoB,eAF7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,MAAC,IAAD;AAAM,MAAA,OAAO,EAAE;AAAEI,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,EAAE,EAAE;AAApB,OAAf;AAA+C,MAAA,KAAK,EAAC,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,EAOE,MAAC,YAAD;AACE,MAAA,CAAC,EAAE;AAAED,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,EAAE,EAAE;AAApB,OADL;AAEE,MAAA,CAAC,EAAE;AAAED,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,EAAE,EAAE;AAApB,OAFL;AAGE,MAAA,KAAK,EAAC,UAHR;AAIE,MAAA,OAAO,EAAE;AAAED,QAAAA,IAAI,EAAE,SAAR;AAAmBC,QAAAA,EAAE,EAAE;AAAvB,OAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CAPF,EAqBE,MAAC,IAAD;AAAM,MAAA,KAAK,EAAC,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WArBF,EAsBE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,MAAD;AACE,MAAA,OAAO,EAAEZ,UADX;AAEE,MAAA,OAAO,EAAC,MAFV;AAGE,MAAA,UAAU,EAAC,QAHb;AAIE,MAAA,KAAK,EAAC,YAJR;AAKE,MAAA,cAAc,EAAC,YALjB;AAME,MAAA,EAAE,EAAE,CANN;AAOE,MAAA,EAAE,EAAE,CAPN;AAQE,MAAA,EAAE,EAAE;AACF,mBAAW;AACTa,UAAAA,KAAK,EAAE;AADE;AADT,OARN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAcE,MAAC,IAAD;AAAM,MAAA,OAAO,EAAE;AAAEF,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,EAAE,EAAE;AAApB,OAAf;AAA+C,MAAA,KAAK,EAAC,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdF,EAiBE,MAAC,SAAD;AACE,MAAA,CAAC,EAAE;AAAED,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,EAAE,EAAE;AAApB,OADL;AAEE,MAAA,CAAC,EAAE;AAAED,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,EAAE,EAAE;AAApB,OAFL;AAGE,MAAA,KAAK,EAAC,UAHR;AAIE,MAAA,OAAO,EAAE;AAAED,QAAAA,IAAI,EAAE,SAAR;AAAmBC,QAAAA,EAAE,EAAE;AAAvB,OAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjBF,CADF,CAtBF,CATF,CAPF,CADF;AAqED;;AACD,SACE,MAAC,UAAD;AAAY,IAAA,IAAI,EAAC,IAAjB;AAAsB,IAAA,EAAE,EAAE,CAA1B;AAA6B,IAAA,OAAO,EAAEP,gBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF;AAKD,CAnGM","sourcesContent":["import {\n  Avatar,\n  Box,\n  Button,\n  CloseIcon,\n  HStack,\n  MetaButton,\n  SettingsIcon,\n  Spinner,\n  Text,\n} from '@raidguild/ds';\nimport { MetaLink } from 'components/Link';\nimport React, { useCallback } from 'react';\n\nimport { useUser, useWeb3 } from '../lib/hooks';\nimport { getPlayerImage, getPlayerName } from '../utils/playerHelpers';\n\nexport const LoginButton: React.FC = () => {\n  const {\n    address,\n    connectWeb3,\n    disconnect,\n    isConnected,\n    isConnecting,\n  } = useWeb3();\n\n  const { user, fetching } = useUser();\n\n  const handleLoginClick = useCallback(async () => {\n    await connectWeb3();\n  }, [connectWeb3]);\n\n  if (fetching || isConnecting) {\n    return <Spinner color=\"purple.500\" size=\"sm\" />;\n  }\n\n  if (isConnected) {\n    if (!user?.player) return null;\n\n    const hasEditedProfile = user.username && user.username !== address;\n\n    return (\n      <HStack>\n        <Avatar\n          src={getPlayerImage(user.player)}\n          name={getPlayerName(user.player)}\n          as={MetaLink}\n          href={`/player/${user.username}`}\n        />\n        <Box>\n          <MetaLink\n            href={`/player/${user.username}`}\n            fontFamily=\"body\"\n            color=\"whiteAlpha.700\"\n            pl={1}\n          >\n            {user.player ? getPlayerName(user.player) : 'Unknown'}\n          </MetaLink>\n          <Box\n            d=\"flex\"\n            w=\"100%\"\n            alignItems=\"center\"\n            justifyContent=\"space-between\"\n            sx={{ '& > *': { d: 'inline-flex', px: 1 } }}\n          >\n            <MetaLink\n              href=\"/profile/setup/username\"\n              title={hasEditedProfile ? 'Edit profile' : 'Setup profile'}\n            >\n              <Text display={{ base: 'none', xl: 'inline' }} color=\"cyan.400\">\n                Edit profile\n              </Text>\n              <SettingsIcon\n                w={{ base: '20px', xl: 7 }}\n                h={{ base: '20px', xl: 7 }}\n                color=\"cyan.400\"\n                display={{ base: 'initial', xl: 'none' }}\n              />\n            </MetaLink>\n            <Text color=\"cyan.400\">|</Text>\n            <Text>\n              <Button\n                onClick={disconnect}\n                variant=\"link\"\n                fontWeight=\"normal\"\n                title=\"Disconnect\"\n                justifyContent=\"flex-start\"\n                ml={0}\n                pl={0}\n                sx={{\n                  '&:hover': {\n                    color: 'cyan.400',\n                  },\n                }}\n              >\n                <Text display={{ base: 'none', xl: 'inline' }} color=\"cyan.400\">\n                  Disconnect\n                </Text>\n                <CloseIcon\n                  w={{ base: '18px', xl: 6 }}\n                  h={{ base: '18px', xl: 6 }}\n                  color=\"cyan.400\"\n                  display={{ base: 'initial', xl: 'none' }}\n                />\n              </Button>\n            </Text>\n          </Box>\n        </Box>\n      </HStack>\n    );\n  }\n  return (\n    <MetaButton size=\"md\" px={8} onClick={handleLoginClick}>\n      Connect\n    </MetaButton>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}